function combineArraysRecursively(e){if(!e)return[];if(!Array.isArray(e))return[];if(0==e.length)return[];for(let t=0;t<e.length;t++)if(!Array.isArray(e[t])||0==e[t].length)return[];let t=[];return function a(r,o=0,n=""){r[o].forEach((i=>{o==e.length-1?t.push(n+i):a(r,o+1,n+i)}))}(e),t}function setCookie(e,t,a){var r="";if(a){var o=new Date;o.setTime(o.getTime()+24*a*60*60*1e3),r="; expires="+o.toUTCString()}document.cookie=e+"="+(t||"")+r+"; path=/"}function getCookie(e){for(var t=e+"=",a=document.cookie.split(";"),r=0;r<a.length;r++){for(var o=a[r];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}function eraseCookie(e){document.cookie=e+"=; Max-Age=-99999999;"}window.slate=window.slate||{},window.theme=window.theme||{},slate.a11y={pageLinkFocus:function(e){var t="js-focus-hidden";e.first().attr("tabIndex","-1").focus().addClass(t).one("blur",(function(){e.first().removeClass(t).removeAttr("tabindex")}))},focusHash:function(){var e=window.location.hash;e&&document.getElementById(e.slice(1))&&this.pageLinkFocus($(e))},bindInPageLinks:function(){$("a[href*=#]").on("click",function(e){this.pageLinkFocus($(e.currentTarget.hash))}.bind(this))},trapFocus:function(e){var t=e.eventNamespace?"focusin."+e.eventNamespace:"focusin";e.$elementToFocus||(e.$elementToFocus=e.$container),e.$container.attr("tabindex","-1"),e.$elementToFocus.focus(),$(document).on(t,(function(t){e.$container[0]===t.target||e.$container.has(t.target).length||e.$container.focus()}))},removeTrapFocus:function(e){var t=e.namespace?"focusin."+e.namespace:"focusin";e.$container&&e.$container.length&&e.$container.removeAttr("tabindex"),$(document).off(t)}},slate.utils={findInstance:function(e,t,a){for(var r=0;r<e.length;r++)if(e[r][t]===a)return e[r]},removeInstance:function(e,t,a){for(var r=e.length;r--;)if(e[r][t]===a){e.splice(r,1);break}return e},compact:function(e){for(var t=-1,a=null==e?0:e.length,r=0,o=[];++t<a;){var n=e[t];n&&(o[r++]=n)}return o},defaultTo:function(e,t){return null==e||e!=e?t:e}},slate.rte={wrapTable:function(){$(".rte table").wrap('<div class="rte__table-wrapper"></div>')},iframeReset:function(){var e=$('.rte iframe[src*="youtube.com/embed"], .rte iframe[src*="player.vimeo"]'),t=e.add(".rte iframe#admin_bar_iframe");e.each((function(){$(this).wrap('<div class="rte__video-wrapper"></div>')})),t.each((function(){this.src=this.src}))}},slate.Sections=function(){this.constructors={},this.instances=[],$(document).on("shopify:section:load",this._onSectionLoad.bind(this)).on("shopify:section:unload",this._onSectionUnload.bind(this)).on("shopify:section:select",this._onSelect.bind(this)).on("shopify:section:deselect",this._onDeselect.bind(this)).on("shopify:block:select",this._onBlockSelect.bind(this)).on("shopify:block:deselect",this._onBlockDeselect.bind(this))},slate.Sections.prototype=$.extend({},slate.Sections.prototype,{_createInstance:function(e,t){var a=$(e),r=a.attr("data-section-id"),o=a.attr("data-section-type");if(void 0!==(t=t||this.constructors[o])){var n=$.extend(new t(e),{id:r,type:o,container:e});this.instances.push(n)}},_onSectionLoad:function(e){var t=$("[data-section-id]",e.target)[0];t&&this._createInstance(t)},_onSectionUnload:function(e){var t=slate.utils.findInstance(this.instances,"id",e.detail.sectionId);t&&("function"==typeof t.onUnload&&t.onUnload(e),this.instances=slate.utils.removeInstance(this.instances,"id",e.detail.sectionId))},_onSelect:function(e){var t=slate.utils.findInstance(this.instances,"id",e.detail.sectionId);t&&"function"==typeof t.onSelect&&t.onSelect(e)},_onDeselect:function(e){var t=slate.utils.findInstance(this.instances,"id",e.detail.sectionId);t&&"function"==typeof t.onDeselect&&t.onDeselect(e)},_onBlockSelect:function(e){var t=slate.utils.findInstance(this.instances,"id",e.detail.sectionId);t&&"function"==typeof t.onBlockSelect&&t.onBlockSelect(e)},_onBlockDeselect:function(e){var t=slate.utils.findInstance(this.instances,"id",e.detail.sectionId);t&&"function"==typeof t.onBlockDeselect&&t.onBlockDeselect(e)},register:function(e,t){this.constructors[e]=t,$("[data-section-type="+e+"]").each(function(e,a){this._createInstance(a,t)}.bind(this))}}),slate.Currency={formatMoney:function(e,t){"string"==typeof e&&(e=e.replace(".",""));var a="",r=/\{\{\s*(\w+)\s*\}\}/,o=t||"$";function n(e,t,a,r){if(t=slate.utils.defaultTo(t,2),a=slate.utils.defaultTo(a,","),r=slate.utils.defaultTo(r,"."),isNaN(e)||null==e)return 0;var o=(e=(e/100).toFixed(t)).split(".");return o[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+a)+(o[1]?r+o[1]:"")}switch(o.match(r)[1]){case"amount":a=n(e,2);break;case"amount_no_decimals":a=n(e,0);break;case"amount_with_comma_separator":a=n(e,2,".",",");break;case"amount_no_decimals_with_comma_separator":a=n(e,0,".",",");break;case"amount_no_decimals_with_space_separator":a=n(e,0," ")}return o.replace(r,a)}},slate.Image={preload:function(e,t){"string"==typeof e&&(e=[e]);for(var a=0;a<e.length;a++){var r=e[a];this.loadImage(this.getSizedImageUrl(r,t))}},loadImage:function(e){(new Image).src=e},imageSize:function(e){var t=e.match(/.+_((?:pico|icon|thumb|small|compact|medium|large|grande)|\d{1,4}x\d{0,4}|x\d{1,4})[_\.@]/);return t?t[1]:null},getSizedImageUrl:function(e,t){if(null===t)return e;if("master"===t)return this.removeProtocol(e);var a=e.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?$/i);if(a){var r=e.split(a[0]),o=a[0];return this.removeProtocol(r[0]+"_"+t+o)}return null},removeProtocol:function(e){return e.replace(/http(s)?:/,"")}},slate.Variants=function(){function e(e){this.$container=e.$container,this.product=e.product,this.singleOptionSelector=e.singleOptionSelector,this.originalSelectorId=e.originalSelectorId,this.enableHistoryState=e.enableHistoryState,this.currentVariant=this._getVariantFromOptions(),$(this.singleOptionSelector,this.$container).on("change",this._onSelectChange.bind(this))}return e.prototype=$.extend({},e.prototype,{_getCurrentOptions:function(){var e=$.map($(this.singleOptionSelector,this.$container),(function(e){var t=$(e),a=t.attr("type"),r={};return"radio"===a||"checkbox"===a?!!t[0].checked&&(r.value=t.val(),r.index=t.data("index"),r):(r.value=t.val(),r.index=t.data("index"),r)}));return e=slate.utils.compact(e)},_getVariantFromOptions:function(){var e=this._getCurrentOptions(),t=this.product.variants,a=!1;return t.forEach((function(t){var r=!0;t.options;e.forEach((function(e){r&&(r=e.value===t[e.index])})),r&&(a=t)})),a||null},_onSelectChange:function(){var e=this._getVariantFromOptions();this.$container.trigger({type:"variantChange",variant:e}),e&&(this._updateMasterSelect(e),this._updateImages(e),this._updatePrice(e),this.currentVariant=e,this.enableHistoryState&&this._updateHistoryState(e))},_updateImages:function(e){var t=e.featured_image||{},a=this.currentVariant.featured_image||{};e.featured_image&&t.src!==a.src&&this.$container.trigger({type:"variantImageChange",variant:e})},_updatePrice:function(e){e.price===this.currentVariant.price&&e.compare_at_price===this.currentVariant.compare_at_price||this.$container.trigger({type:"variantPriceChange",variant:e})},_updateHistoryState:function(e){if(history.replaceState&&e){var t=window.location.protocol+"//"+window.location.host+window.location.pathname+"?variant="+e.id;window.history.replaceState({path:t},"",t)}},_updateMasterSelect:function(e){$(this.originalSelectorId,this.$container)[0].value=e.id}}),e}(),theme.Product=function(){var e="[data-add-to-cart]",t="[data-add-to-cart-text]",a="[data-compare-price]",r="[data-compare-text]",o="[data-product-select]",n="[data-price-wrapper]",i="[data-product-featured-image]",s="[data-product-json]",c="[data-product-price]",l="[data-single-option-selector]";function u(e){this.$container=$(e);this.$container.attr("data-section-id");this.settings={},this.namespace=".product",$(s,this.$container).html()&&(this.productSingleObject=JSON.parse($(s,this.$container).html()),this.imageSize=slate.Image.imageSize($(i,this.$container).attr("src")),slate.Image.preload(this.productSingleObject.images,this.imageSize),this.initVariants())}return u.prototype=$.extend({},u.prototype,{initVariants:function(){var e={$container:this.$container,enableHistoryState:this.$container.data("enable-history-state")||!1,singleOptionSelector:l,originalSelectorId:o,product:this.productSingleObject};this.variants=new slate.Variants(e),this.$container.on("variantChange"+this.namespace,this.updateAddToCartState.bind(this)),this.$container.on("variantImageChange"+this.namespace,this.updateProductImage.bind(this)),this.$container.on("variantPriceChange"+this.namespace,this.updateProductPrices.bind(this))},updateAddToCartState:function(a){var r=a.variant;if(!r)return $(e,this.$container).prop("disabled",!0),$(t,this.$container).html(theme.strings.unavailable),void $(n,this.$container).addClass("hide");$(n,this.$container).removeClass("hide"),r.available?($(e,this.$container).prop("disabled",!1),$(t,this.$container).html(theme.strings.addToCart)):($(e,this.$container).prop("disabled",!0),$(t,this.$container).html(theme.strings.soldOut))},updateProductPrices:function(e){var t=e.variant,o=$(a,this.$container),n=o.add(r,this.$container);$(c,this.$container).html(slate.Currency.formatMoney(t.price,theme.moneyFormat)),t.compare_at_price>t.price?(o.html(slate.Currency.formatMoney(t.compare_at_price,theme.moneyFormat)),n.removeClass("hide")):(o.html(""),n.addClass("hide"))},updateProductImage:function(e){var t=e.variant,a=slate.Image.getSizedImageUrl(t.featured_image.src,this.imageSize);$(i,this.$container).attr("src",a)},onUnload:function(){this.$container.off(this.namespace)}}),u}(),theme.customerAddresses=function(){var e=$("#AddressNewForm");e.length&&(Shopify&&new Shopify.CountryProvinceSelector("AddressCountryNew","AddressProvinceNew",{hideElement:"AddressProvinceContainerNew"}),$(".address-country-option").each((function(){var e=$(this).data("form-id"),t="AddressCountry_"+e,a="AddressProvince_"+e,r="AddressProvinceContainer_"+e;new Shopify.CountryProvinceSelector(t,a,{hideElement:r})})),$(".address-new-toggle").on("click",(function(){e.toggleClass("hide")})),$(".address-edit-toggle").on("click",(function(){var e=$(this).data("form-id");$("#EditAddress_"+e).toggleClass("hide")})),$(".address-delete").on("click",(function(){var e=$(this),t=e.data("form-id"),a=e.data("confirm-message");confirm(a||"Are you sure you wish to delete this address?")&&Shopify.postLink("/account/addresses/"+t,{parameters:{_method:"delete"}})})))}(),theme.customerLogin=function(){var e="#RecoverPassword",t="#HideRecoverPasswordLink";function a(e){e.preventDefault(),r()}function r(){$("#RecoverPasswordForm").toggleClass("hide"),$("#CustomerLoginForm").toggleClass("hide")}$(e).length&&("#recover"===window.location.hash&&r(),function(){if(!$(".reset-password-success").length)return;$("#ResetSuccess").removeClass("hide")}(),$(e).on("click",a),$(t).on("click",a))}(),$(document).ready((function(){(new slate.Sections).register("product",theme.Product),slate.a11y.pageLinkFocus($(window.location.hash)),$(".in-page-link").on("click",(function(e){slate.a11y.pageLinkFocus($(e.currentTarget.hash))})),slate.rte.wrapTable(),slate.rte.iframeReset()})),$(document).ready((function(){if($("section.quote .quote-main").length>0)$("section.quote .quote-main").flickity({wrapAround:!0,watchCSS:!1,autoPlay:4e3,prevNextButtons:!1,pageDots:!1,draggable:!1,cellSelector:".slide"})})),$(document).ready((function(){if($(".press-wrapper").length>0)$(".press-wrapper").flickity({wrapAround:!0,watchCSS:!1,autoPlay:4e3,prevNextButtons:!1,pageDots:!1,draggable:!0,cellSelector:"a"})})),$(document).ready((function(){$(".gift-cart-select").change((function(){$("button[data-add-to-cart]").hasClass("must-select-size")&&$("button[data-add-to-cart]").removeClass("must-select-size"),$(".product-price").text($(this).find("option:selected").text())}))})),$(".site-nav__link[data-subnav]").on("click",(function(e){console.log(e),$(window).width()>=700?(e.preventDefault(),$(this).closest(".site-nav__item").hasClass("subnav-active")?($(".site-nav__item").removeClass("subnav-active"),$('header[section-id="header"]').removeClass("megamenu-subnav-active")):($(".site-nav__item").removeClass("subnav-active"),$(this).closest(".site-nav__item").addClass("subnav-active"),$('header[section-id="header"]').addClass("megamenu-subnav-active"))):(e.preventDefault(),$(this).closest(".site-nav__item").hasClass("expanded")?$(".site-nav__item").removeClass("expanded"):($(".site-nav__item").removeClass("expanded"),$(this).closest(".site-nav__item").addClass("expanded")))})),$(document).ready((function(){if($("body").hasClass("tabs")){if(window.location.hash){var e=window.location.hash;e=e.replace("#",""),$('[data-section="'+e+'"]').click()}$(".site-subnav__link[data-anchor]").on("click",(function(){console.log($(this).data("anchor")),$('li[data-section="'+$(this).data("anchor")+'"]').click()}))}})),$(".site-nav.mobile .site-nav__toggle").on("click",(function(e){e.preventDefault(),$(this).closest(".site-nav__link").hasClass("expanded")?$(".site-nav__link").removeClass("expanded"):($(".site-nav__link").removeClass("expanded"),$(this).closest(".site-nav__link").addClass("expanded"))})),$(".cart-link").on("click",(function(e){e.preventDefault()})),$(window).on("load",(function(){$(".sustainability-page-carousel").flickity({cellSelector:"li",wrapAround:!0,watchCSS:!1,imagesLoaded:!0,pageDots:!0,prevNextButtons:!1,adaptiveHeight:!0,dragThreshold:10,touchVerticalScroll:!0,autoPlay:3e3})})),$(document).on("ready",(function(){$("body").hasClass("template-collection")&&$(".material-symbol").each((function(){var e=$(this),t=$(this).data("handle");t=t.replace("material--",""),$(".product").each((function(){$(this).data("material")===t&&$(this).find(".product-list--material").append($(e).clone())}))}))})),$(".mobNavULWrap ul li > span").click((function(){var e=$(this).parent().attr("data-unid");null!=e&&($(this).parents(".mobNavULWrap").addClass("subUlParent"),$("#"+e).addClass("subUlActive"))})),$(".mobNavBackBtn").click((function(){var e=$(this).parents(".mobNavULWrap");e.removeClass("subUlActive"),$("#"+e.attr("data-parent-id")).removeClass("subUlParent")})),$(".mobMenuOverlay").click((function(){$("#mobile-hamburger a").click()})),$(document).on("click","#shopify-section-header .site-nav.desktop .site-nav__link[data-subnav]",(function(e){$(this).parent().hasClass("subnav-active")?$("body").addClass("showMenuOverlay"):$("body").removeClass("showMenuOverlay")})),$(".menuOverlayDesktop").on("click",(function(e){e.preventDefault(),$("body").removeClass("showMenuOverlay"),$("header").removeClass("megamenu-subnav-active"),$(".site-nav__item").removeClass("subnav-active")})),$(document).on("keydown",(function(e){27===e.which&&"keydown"===e.type&&(e.preventDefault(),$("body").removeClass("showMenuOverlay"),$(".site-nav__item").removeClass("subnav-active"),$("header").removeClass("megamenu-subnav-active"),$("#mobile-hamburger").removeClass("active"),$(".newMobNav").removeClass("active"),$(".search-bar").removeClass("active"))})),$(".search-toggle.desktop").on("click",(function(e){e.preventDefault(),$(".search-bar").hasClass("active")?($(".search-bar").removeClass("active"),$(".search-bar .search__input").blur()):($(".search-bar").addClass("active"),$(".search-bar .search__input").focus())})),$(".search-toggle.mobile").on("click",(function(e){e.preventDefault(),window.scrollTo(0,10),$("html").addClass("nav-scrolled"),$(".search-bar .search__input").focus(),$(".cloud-search-mobile__input input").focus()})),$(window).on("load",(function(){$(".cloud-search-mobile__input input").attr("placeholder","Search")})),setTimeout((()=>{$(".cloud-search-mobile__input input").attr("placeholder","Search")}),"1000"),setTimeout((()=>{"Search"!==$(".cloud-search-mobile__input input").attr("placeholder")&&$(".cloud-search-mobile__input input").attr("placeholder","Search")}),"5000");let cartMotivatorSettings={frequency:500,lastDisplayed:Date.now(),currentTime:Date.now()},cartMotivatorCampaigns={"bfcm-shorts":{priority:0,status:"active",threshold:3,tag:"category--shorts",color:"#000",background:"#006AFF",message:{progress:"<p>Add [count] more Bo Shorts to your Cart to get 10% off!</p>",complete:"<p>Nice job! You get 10% off Bo Shorts!</p>"}},"bfcm-tees":{priority:0,status:"active",threshold:3,tag:"category--tees",color:"#FFF",background:"#006AFF",message:{progress:"<p>Add [count] more Sun Tees to your Cart to get 10% off!</p>",complete:"<p>Nice job! You get 10% off Sun Tees!</p>"}},"bfcm-alex":{priority:0,status:"active",threshold:2,tag:"alexs-picks",color:"#FFF",background:"#006AFF",message:{progress:"<p>Add [count] more item from Alex’s Picks for 10% off.</p>",complete:"<p>Nice job! You get 10% off Alex’s Picks!</p>"}},"bfcm-tiers":{priority:1,status:"active",tiers:{0:{threshold:0,message:"<p>Spend [difference] more to save 15%!</p>",status:"progress",background:"#d8e3ef",color:"#000"},1:{threshold:1e4,message:"<p><span>You've unlocked 15% off your order!</span> <span>Spend [difference] more to unlock 20%</span></p>",status:"complete",background:"#7087a9",color:"#fff"},2:{threshold:2e4,message:"<p><span>You've unlocked 20% off your order!</span> <span>Spend [difference] more to unlock 25%</span></p>",status:"complete",background:"#14467d",color:"#fff"},3:{threshold:3e4,message:"<p>Nice job! You get 25% off your entire order.</p>",status:"complete",background:"#cf4955",color:"#fff"}}}};class CartMotivator{constructor(e){this.campaigns=e}getCurrentCampaign(){let e=!1,t={},a={campaign:"",count:0};if(Rebuy?.Cart?.cart?.items.length>0){for(const e in this.campaigns)if(this.campaigns[e]?.tag&&"active"==this.campaigns[e].status){const a=this.campaigns[e].tag;for(const r in Rebuy.Cart.cart.items)Rebuy.Cart.cart.items[r].product.tags.includes(a)&&(t[e]=t[e]+Rebuy.Cart.cart.items[r].quantity||Rebuy.Cart.cart.items[r].quantity)}for(const e in t)t[e]>a.count&&t[e]<this.campaigns[e]?.threshold&&(a.campaign=e,a.count=t[e]);if(!e)for(const e in t)t[e]>a.count&&(a.campaign=e,a.count=t[e]);a.count>0&&(e=this.campaigns[a.campaign])}for(const t in this.campaigns)this.campaigns[t].priority>0&&"active"==this.campaigns[t].status&&(e=this.campaigns[t]);return e}getCurrentTier(e){let t=!1;if(e?.tiers)for(const a in e.tiers)0===Rebuy.Cart.cart.total_price&&(t=0),Rebuy.Cart.cart.total_price>e.tiers[a].threshold&&(t=a);return t}getNextTier(e,t){let a=parseInt(t).toString(),r=(parseInt(t)+1).toString(),o=!1;return e?.tiers&&void 0!==e?.tiers[a]&&void 0!==e?.tiers[r]&&(o=e.tiers[r]),o}getDifferenceToNextTier(e,t){let a=!1,r=(parseInt(t)+1).toString();return e?.tiers&&(void 0!==e?.tiers[t]&&void 0===e?.tiers[r]&&(a=0),void 0!==e?.tiers[r]&&e?.tiers[r].threshold>Rebuy.Cart.cart.total_price&&(a=e?.tiers[r].threshold-Rebuy.Cart.cart.total_price)),a}getProductCountNeeded(e){let t=0;if(Rebuy?.Cart?.cart?.items.length>0&&e?.tag&&"active"==e.status)for(const a in Rebuy.Cart.cart.items)Rebuy.Cart.cart.items[a].product.tags.includes(e.tag)&&(t=t+Rebuy.Cart.cart.items[a].quantity||Rebuy.Cart.cart.items[a].quantity);return t=e.threshold-t>0?e.threshold-t:0,t}getMessage(e){let t={text:"",type:"",background:"",color:"",progress:""};if(e)if(void 0!==e?.tiers&&!1!==this.getCurrentTier(e)){let a=this.getCurrentTier(e);t.text=e.tiers[a].message,t.text=t.text.replace("[difference]",slate.Currency.formatMoney(this.getDifferenceToNextTier(e,a),theme.moneyFormat)),0===Rebuy.Cart.cart.total_price&&(t.text=t.text.replace("more ","")),void 0!==e.tiers[a]?.color&&(t.color=e.tiers[a].color),void 0!==e.tiers[a]?.background&&(t.background=e.tiers[a].background);let r=this.getNextTier(e,a);r&&(t.progress=1-this.getDifferenceToNextTier(e,a)/(r.threshold-e.tiers[a].threshold)),t.type="complete"}else{let a=this.getProductCountNeeded(e);0==a&&void 0!==e.message.complete&&(t.text=e.message.complete,t.type="complete",t.progress=1),a>0&&void 0!==e.message.complete&&(t.text=e.message.progress,t.text=t.text.replace("[count]",a),t.progress=a/this.getProductCountNeeded(e),1==a&&(t.text=t.text.replace("Shorts","Short"),t.text=t.text.replace("Tees","Tee")),t.type="progress"),void 0!==e?.color&&(t.color=e.color),void 0!==e?.background&&(t.background=e.background)}else t=!1;return(!1===t&&$(".site-banner").length>0||0===Rebuy.Cart.cart.total_price&&$(".site-banner").length>0)&&(t.text=$(".site-banner").data("default-message"),t.type="default"),t.text=t.text.replace(".00",""),t}displayMessage(e,t){if(t){let a="#1b3448",r="#006AFF",o=0;t?.color&&(a=t.color),t?.background&&(r=t.background),t?.progress&&(o=(100*t.progress).toString()+"%"),"announcement"===e&&$(".site-banner p").fadeOut(250,(function(){"default"==t.type&&$(".site-banner").html()!==t.text&&($(".site-banner").css("backgroundColor",""),$(".site-banner").html(t.text),$(".site-banner p").css("color",""),$(".site-banner p").fadeIn(250)),"progress"==t.type&&($(".site-banner").css("backgroundColor",r),$(".site-banner").html(t.text),$(".site-banner p").css("color",a),$(".site-banner p").fadeIn(250),setTimeout((function(){$(".site-banner").css("backgroundColor","")}),5e3)),"complete"==t.type&&($(".site-banner").css("backgroundColor",r),$(".site-banner").html(t.text),$(".site-banner p").css("color",a),$(".site-banner p").fadeIn(250))})),"smartcart"===e&&(0===$(".rebuy-cart__flyout-promo-bar").length&&$(".rebuy-cart__flyout-body").prepend('<div class="rebuy-cart__flyout-promo-bar"><div class="rebuy-cart__flyout-promo-bar-message"></div><div class="rebuy-cart__flyout-promo-bar-meter"><div class="rebuy-cart__flyout-promo-bar-meter-fill"></div></div></div>'),$(".rebuy-cart__flyout-promo-bar-message").fadeOut(250,(function(){"default"==t.type&&$(".rebuy-cart__flyout-shipping-promo-message").html()!==t.text&&($(".rebuy-cart__flyout-promo-bar").css("backgroundColor",""),$(".rebuy-cart__flyout-promo-bar-message").html(t.text).css("color",""),$(".rebuy-cart__flyout-promo-bar-message").fadeIn(250),$(".rebuy-cart__flyout-promo-bar-meter-fill").css("backgroundColor","").css("width","")),"progress"==t.type&&($(".rebuy-cart__flyout-promo-bar").css("backgroundColor",r),$(".rebuy-cart__flyout-promo-bar-message").html(t.text),$(".rebuy-cart__flyout-promo-bar-message").css("color",a),$(".rebuy-cart__flyout-promo-bar-message").fadeIn(250),o&&($(".rebuy-cart__flyout-promo-bar-meter-fill").css("backgroundColor",a),$(".rebuy-cart__flyout-promo-bar-meter-fill").css("width",o)),setTimeout((function(){$(".rebuy-cart__flyout-promo-bar").css("backgroundColor",""),$(".rebuy-cart__flyout-promo-bar-message").css("color",""),$(".rebuy-cart__flyout-promo-bar-meter-fill").css("backgroundColor","")}),5e3)),"complete"==t.type&&($(".rebuy-cart__flyout-promo-bar").css("backgroundColor",r),$(".rebuy-cart__flyout-promo-bar-meter-fill").css("backgroundColor","#fff"),$(".rebuy-cart__flyout-promo-bar-message").html(t.text),$(".rebuy-cart__flyout-promo-bar-message").css("color",a),$(".rebuy-cart__flyout-promo-bar-message").fadeIn(250),o&&($(".rebuy-cart__flyout-promo-bar-meter-fill").css("backgroundColor",a),$(".rebuy-cart__flyout-promo-bar-meter-fill").css("width",o))),0==o?$(".rebuy-cart__flyout-promo-bar-meter").hide():$(".rebuy-cart__flyout-promo-bar-meter").show()})),this.lastDisplayed=Date.now())}}}function toggleCartGiftwrapping(){let e=!1;for(const t in Rebuy.Cart.cart.items)32267377016921==Rebuy.Cart.cart.items[t].variant_id&&(e=!0);e?$(".rebuy-cart__flyout-giftwrapping").removeClass("active"):$(".rebuy-cart__flyout-giftwrapping").addClass("active")}$(window).on("load",(function(){let e=setInterval((function(){$(".rebuy-cart__flyout-giftwrapping").length>0&&void 0!==Rebuy?.Cart?.cart?(toggleCartGiftwrapping(),clearInterval(e)):setTimeout((function(){clearInterval(e)}),1e4)}),10)})),document.addEventListener("rebuy.productsChange",(function(){toggleCartGiftwrapping()})),$(window).on("load",(function(){$(".lp-product-carousel__image-secondary").css("opacity","")})),window.app=window.app||{},window.app.utils=window.app.utils||{},window.app.utils.fetchLocalizedPrice=function(e,t){let a,r=!1;e.includes("?")?(e.split("?"),a=e[0],r=e[1]):a=e,a=`${e}.json`,fetch(a).then((e=>{e.ok?e.json().then((function(e){let a=e.product.variants[0].price,r=`${window.theme.currency_symbol}${a}`;if(r=r.replace(".00",""),!t)return r;t.innerHTML=r})):console.error(`There was an error trying to fetchLocalizedPrice on ${a}. This URL may not be valid`)}))};var setRebuyLocalizationInterval=setInterval((function(){if(document.querySelectorAll(".localize-price").length>0){document.querySelectorAll(".localize-price").forEach((e=>{window.app.utils.fetchLocalizedPrice(e.dataset.url,e)})),clearInterval(setRebuyLocalizationInterval)}else setTimeout((function(){clearInterval(setRebuyLocalizationInterval)}),1e4)}),1e3);
//# sourceMappingURL=theme.min.js.map