let $productMainImages,sizingHelperText,currentSelectedSize,recommendedSizing;function enableSearchVisibility(){document.querySelector("body").classList.remove("search--hidden")}function disableSearchVisibility(){document.querySelector("body").classList.add("search--hidden")}function enableBodyScroll(e){"mobile"===e&&(modifer="--mobile"),document.querySelector("body").classList.remove(`scroll-lock${modifer}`)}function disableBodyScroll(e){"mobile"===e&&(modifer="--mobile"),document.querySelector("body").classList.add(`scroll-lock${modifer}`)}function updateVariantSizeHelper(){currentSelectedSize=$(".variant-selector li.selected").data("variant"),null!=window.productSizingHelper?(sizingHelperText=window.productSizingHelperText,recommendedSizing=window.productSizingHelper?.[currentSelectedSize],window.productSizingHelperRange&&(recommendedSizing=recommendedSizing.replace("-","/")),sizingHelperText=sizingHelperText.replace("[size]",recommendedSizing),console.log(currentSelectedSize),console.log(window.productSizingHelper),console.log(window.productSizingHelper[currentSelectedSize]),console.log(sizingHelperText),console.log("--------------------------------------------------------"),document.documentElement.style.setProperty("--sizing-note","'Size "+currentSelectedSize+" typically fits a "+sizingHelperText+". '"),document.documentElement.style.setProperty("--sizing-note-desktop","'Typically fits a "+sizingHelperText+"'"),$("[data-selected-size]").text(currentSelectedSize).addClass("show-size-note"),$(".size-note").addClass("show-size-note")):$("[data-selected-size]").text(currentSelectedSize)}function adjustMobileColorSwatches(){$("#colorset").removeClass("colorset-flex"),$("#colorset").width(""),setTimeout((function(){$("#colorset").removeClass("colorset-flex");var e=($("ul#colorset li").outerWidth()+8)*$("ul#colorset li").length;$("#colorset").width(e),setTimeout((function(){$("#colorset").addClass("colorset-flex")}),100)}),100)}window.app=window.app||{},window.app.utils=window.app.utils||{},app.utils.clamp=(e,t,a)=>Math.min(Math.max(e,t),a),app.product={variantSelection:function(){let e=$("ul.variant-selector li.selected").data("variant"),t=$(".product-info h1").text();$("ul.variant-selector li.selected").length>0&&($("ul.variant-selector li.selected").hasClass("soldout")?$("#single-product").hasClass("waitlist-enabled")?$("#single-product").hasClass("waitlist-enabled")?($('#ProductSubmitForm button[type="submit"]').addClass("waitlist"),$("#single-product .waitlist").addClass("enabled"),$('#single-product .waitlist input[aria-label="Waitlist Product"]').val(t+" | "+e),$('.waitlist-form input[aria-label="Waitlist Signup Date"]').val($(".waitlist-form").data("date")),$(".status-overlay div").removeClass("active"),$(".status-overlay div.status-waitlist").addClass("active"),$(".klaviyo-bis-trigger").addClass("active")):($('#ProductSubmitForm button[type="submit"]').addClass("unavailable"),$(".status-overlay div.status-outofstock").addClass("active"),$(".klaviyo-bis-trigger").removeClass("active")):($('#ProductSubmitForm button[type="submit"]').removeClass("unavailable").removeClass("waitlist"),$("#single-product .waitlist").removeClass("enabled"),$(".status-overlay div").removeClass("active"),$(".klaviyo-bis-trigger").removeClass("active")):$(".klaviyo-bis-trigger").removeClass("active"),$("ul.variant-selector li.selected").hasClass("preorder")&&($('#ProductSubmitForm button[type="submit"]').removeClass("waitlist"),$('#ProductSubmitForm button[type="submit"]').addClass("preorder"),$("#single-product .preorder").addClass("enabled"),$('#single-product .preorder input[aria-label="Waitlist Product"]').val(t+" | "+e),$('.waitlist-form input[aria-label="Waitlist Signup Date"]').val($(".waitlist-form").data("date")),$(".status-overlay div").removeClass("active"),$(".status-overlay div.status-preorder").addClass("active"),$('ul.preorder-info li[data-id="'+variantID+'"]').addClass("active"),$(".klaviyo-bis-trigger").removeClass("active"),$("#single-product").hasClass("waitlist-enabled #AddToCart")&&($("#single-product .waitlist").addClass("enabled"),$('#single-product .waitlist input[aria-label="Waitlist Product"]').val(t+" | "+e))))},imageSlider:function(){var e=setInterval((function(){document.querySelectorAll(".main-image-wrapper").length>0?($productMainImages=$(".product-images .images").flickity({cellSelector:".main-image-wrapper",wrapAround:!0,watchCSS:!0,imagesLoaded:!0,pageDots:!0,prevNextButtons:!1,adaptiveHeight:!1,dragThreshold:10,touchVerticalScroll:!0,cellAlign:"left"}),$productMainImages.flickity("resize"),productMainImagesData=$productMainImages.data("flickity"),clearInterval(e)):setTimeout((function(){clearInterval(e)}),1e4)}),10)},productNotes:function(){var e=setInterval((function(){document.querySelectorAll("#colorset-wrapper").length>0?($(".variant-selector li").on("click",(function(){if(updateVariantSizeHelper(),$(this).hasClass("soldout")?($("body").addClass("waitlist-enabled"),$(".product-purchase-wrapper").addClass("waitlist-enabled"),$(".stickyPurchase__button").addClass("waitlist-enabled")):($("body").removeClass("waitlist-enabled"),$(".product-purchase-wrapper").removeClass("waitlist-enabled"),$(".stickyPurchase__button").removeClass("waitlist-enabled")),""!==$(this).data("size-note")){let e=$(this).data("size-note");e=e.replaceAll("&nbsp;"," "),$(".stickyPurchase__notes .size-note").text(e),$(".stickyPurchase__notes").addClass("active"),$("body").addClass("sticky-purchase-active")}else $(".stickyPurchase__notes").removeClass("active"),$(".stickyPurchase__notes .size-note").text(""),$("body").removeClass("sticky-purchase-active")})),clearInterval(e)):setTimeout((function(){clearInterval(e)}),5e3)}),10)},sizingChart:function(){document.querySelectorAll(".sizing-chart").length>0&&($("body").on("click",".display-size-chart",(function(e){e.preventDefault(),$("html").addClass("search--hidden"),$(".sizing-chart").removeClass("inactive"),$(".sizing-chart__close").focus(),disableSearchVisibility(),disableBodyScroll("mobile")})),$(".toggle-sizing-unit").on("click",(function(e){e.preventDefault(),$(".sizing-chart").attr("data-view",$(this).data("unit"))})),$(".sizing-chart__close").on("click",(function(e){e.preventDefault(),$("html").removeClass("search--hidden"),$(".sizing-chart").addClass("inactive"),enableBodyScroll("mobile"),enableSearchVisibility()})),$(document).on("keydown",(function(e){27===e.which&&"keydown"===e.type&&(e.preventDefault(),$(".sizing-chart").addClass("inactive"))})))},loadColors:function(){var e=setInterval((function(){if(document.querySelectorAll("#colorset-wrapper").length>0){let s=window.colorSets[$("#colorset").data("colorset")];if($("#colorset").length>0){var t=$("#colorset").data("color");if(t=t.replace("-"," "),void 0!==s){for(var a=0;a<s.length;a++)if(""!==s[a].title){var i="24";""!==s[a].order&&(i=s[a].order);let e=s[a]?.collections,l=!1;e&&e.forEach((e=>{console.log(e.handle),"sale"===e.handle&&(l=!0)})),s[a].url&&!l&&(s[a].title.toLowerCase()===t?$("#colorset").append('<li class="selected" style="background-image: url('+s[a].image+"); order:"+i+';"><a href="'+s[a].url+'"><span class="visually-hidden">'+s[a].title+"</span></a></li>"):$("#colorset").append('<li style="background-image: url('+s[a].image+"); order:"+i+';"><a href="'+s[a].url+'"><span class="visually-hidden">'+s[a].title+"</span></a></li>"))}var l=($("ul#colorset li").outerWidth()+8)*$("ul#colorset li").length;$("ul#colorset li").length>7?$("#colorset").width(l):$("#colorset-wrapper").css("overflow","hidden"),$("#colorset").removeClass("init")}let e=jQuery("#colorset-wrapper li.selected a").text();$("[data-selected-color]").text(e),$("ul#colorset li").length<9?$(".colorset-instructions").hide():$("ul#colorset").addClass("display","flex")}clearInterval(e)}else setTimeout((function(){clearInterval(e)}),5e3)}),10)},recommendedProducts:function(){var e=setInterval((function(){document.querySelectorAll(".rebuy-recommended-products.pdp .primary-title").length>0?($(".rebuy-recommended-products .primary-title").text("Complete the Look"),clearInterval(e)):setTimeout((function(){clearInterval(e)}),1e4)}),10)},productReviews__snippet:function(){var e=setInterval((function(){if(document.querySelectorAll(".product-rating a.text-m").length>0){let t=$(".product-rating a.text-m").text();t=t.replace(" Reviews",""),$(".product-rating a.text-m").text(t),clearInterval(e)}else setTimeout((function(){clearInterval(e)}),5e3)}),10)},productReviews__section:function(){var e=setInterval((function(){if(document.querySelectorAll(".yotpo-reviews.yotpo-active").length>0){let t=$(".avg-score").text(),a=$(".reviews-amount").text();a=a.replace(" Reviews",""),$(".reviews-overview__average").text(t),$(".reviews-overview__count").text(a);let i=parseFloat(document.querySelector(".avg-score")?.innerHTML),l=document.querySelectorAll(".reviews-overview__star");for(let e=0;e<l.length;e++){let t="0%";i>0&&(t=100*app.utils.clamp(i,0,1)+"%",l[e].style.width=t,i-=1)}0==document.querySelectorAll(".yotpo-no-reviews").length&&$(".product-reviews").removeClass("no-yotpo-reviews"),clearInterval(e)}else setTimeout((function(){clearInterval(e)}),5e3)}),10)},productMaterialHeadline:function(){document.querySelectorAll(".product-material-headline li").length&&$(".product-material-headline li").first().addClass("active");setInterval((function(){document.querySelectorAll(".product-material-headline").length>0&&($(".product-material-headline .active").next("li").length>0?$(".product-material-headline .active").addClass("exiting-active").removeClass("active").next().addClass("active").removeClass("exiting-active"):($(".product-material-headline .active").addClass("exiting-active").removeClass("active"),$(".product-material-headline li").first().addClass("active").removeClass("exiting-active")))}),5e3)},relatedProducts:function(){var e=setInterval((function(){document.querySelectorAll(".rebuy-recommended-products.pdp .rebuy-product-grid.flickity-enabled").length>0?($(".rebuy-recommended-products.pdp .rebuy-product-grid .rebuy-product-block").each((function(){let e=$(this).find(".rebuy-select"),t="";$(e).find("option").each((function(){let e=$(this).val(),a=$(this).text(),i=$(this).closest(".rebuy-product-block").find(".rebuy-product-title").text(),l=$(this).closest(".rebuy-product-block").find(".rebuy-product-price .rebuy-money").text();t+=`\n                            <li class="variant" \n                                data-variant="${a}"\n                                data-variant-id="${e}"\n                                data-product="${l}"\n                                data-price="${i}">                         \n                                <span class="label">${a}</span>\n                            </li> \n                        `}));let a=`\n                          <div class="plp-item__purchase">\n                                <div class="plp-item__sizes">\n                                    <ul class="plp-item__size-list">\n                                        ${t}\n                                    </ul>\n                                </div>\n                                <div class="plp-item__button">\n                                    <span class="default">Quick Add</span>\n                                    <span class="select-size">Select a size</span>\n                                    <span class="adding">Adding to cart...</span>\n                                    <span class="success">Added to cart!</span>\n                                    <span class="error">Sorry there was a problem</span>\n                                </div>\n                            </div>\n                    `;$(this).append(a),$(this).addClass("plp-item"),$(this).attr("data-state","default")})),clearInterval(e)):setTimeout((function(){clearInterval(e)}),5e3)}),10)},stickyPurchase:function(){if("function"==typeof jQuery&&document.querySelectorAll(".product-purchase-cta").length)var e=setInterval((function(){if(!document.querySelectorAll(".stickyPurchase").length&&document.querySelectorAll(".product-purchase-cta button").length){let t="",a="stickyPurchase__notes";$(".product-purchase-wrapper").data("must-select-size")?t="must-select-size":a="stickyPurchase__notes visually-hidden";jQuery(".product-info .product-price").text().trim().replace("$","");jQuery(`\n                <div class="stickyPurchase ${t} purchase-container">\n                    <div class="${a}">\n                        <span class="size-note">Sits snug. Recommended for a 29-30 inch waist</span>\n                        <a class="display-size-chart" href="#"><span>Size Chart</span></a>\n                    </div>\n                    <div class="stickyPurchase__sizes"></div>\n                    <div class="stickyPurchase__buttons">\n                        <div class="stickyPurchase__button"></div>\n                        <div class="stickyPurchase__select-size">\n                            <span class="select-size">Please select a size</span>\n                            <a class="display-size-chart" href="#"><span>Size Chart</span></a>\n                        </div>\n                    </div>\n                </div>\n                `).appendTo("body").addClass("stickyPurchase--visible"),app.product.product__updatePrice("product"),jQuery(".product-purchase-cta button").clone().appendTo(".stickyPurchase .stickyPurchase__button"),jQuery(".stickyPurchase__button .available").append('<span class="seperator">&mdash;</span><span class="display-price"></span>'),jQuery(".variant-selector").clone().appendTo(".stickyPurchase .stickyPurchase__sizes"),jQuery(".stickyPurchase__sizes .variant-selector"),jQuery(".stickyPurchase__sizes .variant-selector li").css("height",""),jQuery(".stickyPurchase__sizes .variant-selector label").css("lineHeight","").css("fontSize",""),jQuery(".variant-selector label").on("click",(function(){jQuery(".variant-selector li").removeClass("selected"),jQuery(this).closest("li").addClass("selected"),jQuery(".purchase-container").removeClass("must-select-size"),app.product.product__updatePrice()})),jQuery(document).on("click",".stickyPurchase button",(function(){app.product.product__updatePrice(),jQuery("#ProductSubmitForm button").click()})),clearInterval(e)}else setTimeout((function(){clearInterval(e)}),4e3)}),10)},stickyPurchaseBIS:function(){var e=setInterval((function(){document.querySelectorAll(".klaviyo-bis-trigger").length>0&&document.querySelectorAll(".stickyPurchase__button").length>0?(jQuery(".klaviyo-bis-trigger").clone().appendTo(".stickyPurchase__button"),clearInterval(e)):setTimeout((function(){clearInterval(e)}),1e4)}),10)},productLightbox:function(){var e=setInterval((function(){document.querySelectorAll(".swipebox").length>0?$(window).width()<=699?($(".swipebox").swipebox({useSVG:!0,removeBarsOnMobile:!1,hideBarsDelay:1e4,beforeOpen:disableSearchVisibility(),afterOpen:function(){$(".swipebox.main-video-wrapper").each((function(){let e=$(this).data("index"),t=$(this).find("video").clone();window.slideIndex=e,window.slideVideo=t,console.log("--------------------------------"),console.log(e),console.log(t),$(`#swipebox-slider .slide:nth-child(${e})`).addClass("video-slide"),setTimeout((function(){$(`#swipebox-slider .slide:nth-child(${e}) img`).remove(),$(`#swipebox-slider .slide:nth-child(${e})`).append(t)}),5e3)}))},afterClose:enableSearchVisibility(),loopAtEnd:!0}),clearInterval(e)):($(".swipebox").on("click",(function(e){e.preventDefault(),$(this).hasClass("zoom-active")?$(this).removeClass("zoom-active"):($(".zoom-active").removeClass("zoom-active"),$(this).addClass("zoom-active"))})),$(".img-zoom-wrapper").each((function(){$(this).zoom({url:$(this).parent().attr("href")})})),clearInterval(e)):setTimeout((function(){clearInterval(e)}),5e3)}),10)},product__updatePrice:function(e="variants"){if("variants"===e)var t=jQuery(".variant-selector li.selected").attr("data-price-formatted");else t=jQuery("#single-product .product-price").text();setTimeout((function(){jQuery(".stickyPurchase__button .available .display-price").html(t)}),100)}},app.tests={product__PaymentOptions:function(){var e=setInterval((function(){document.querySelectorAll("catch-callout").length>0&&document.querySelectorAll("afterpay-placement").length>0?($('<div class="payment-options"></div>').appendTo("#ProductSubmitForm"),$("catch-callout").prependTo(".payment-options"),$("afterpay-placement").appendTo(".payment-options"),clearInterval(e)):setTimeout((function(){clearInterval(e)}),5e3)}),10)},product__Colors:function(){var e=setInterval((function(){if(document.querySelectorAll("#colorset-wrapper").length>0){let t=jQuery("#colorset-wrapper li.selected a").text();$("#colorset-wrapper").before(`<div class="color-label-wrapper"><div class="color-label"><span class="label">Color:</span><span class="color">${t}</span></div></div>`),$(".colorset-instructions").clone().appendTo(".color-label-wrapper"),clearInterval(e)}else setTimeout((function(){clearInterval(e)}),5e3)}),10)},product__Details:function(){var e=setInterval((function(){document.querySelectorAll(".product-description").length>0?($(".product-description").insertBefore($(".product-details")),clearInterval(e)):setTimeout((function(){clearInterval(e)}),5e3)}),10)}},$(".toggle-expand-images").on("click",(function(e){e.preventDefault(),$(".images").addClass("images-expanded"),$(".toggle-expand-images").remove()})),$(".expand-details-toggle").on("click",(function(e){e.preventDefault(),$(".product-details").addClass("details-expanded")})),app.product.variantSelection(),app.product.imageSlider(),app.product.sizingChart(),app.product.stickyPurchase(),app.product.recommendedProducts(),app.product.productReviews__snippet(),app.product.productReviews__section(),app.product.productMaterialHeadline(),app.product.loadColors(),app.product.relatedProducts(),app.product.productNotes(),app.product.stickyPurchaseBIS(),app.product.productLightbox(),window.windowSize=$(window).width(),$(document).on("ready",(function(){adjustMobileColorSwatches()})),$(window).on("resize",(function(){window.windowSize!==$(window).width()&&adjustMobileColorSwatches()}));
//# sourceMappingURL=scripts-product.min.js.map